<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D3 - 10 | CAS Dataviz, Daniel Schoeneck</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900" rel="stylesheet">
    <link rel="stylesheet" href="../css/defaults.css" type="text/css">
    <style>

        body {
            margin:0;
            padding:0;
            font-family: 'Roboto', 'Helvetica Neue', Helvetica, sans-serif;
            background: #222;
            color: #fff;
        }

        #datawrapper {
            overflow: hidden;
            position: relative;
        }


        #datawrapper h1{
            position: fixed;
            margin: 0;
            top:0;
            left:0;
            margin: 60px;
            padding: 40px;
            background: rgba(255, 0, 0, 0.63)
        }




    </style>
     	<script src="https://d3js.org/d3.v4.min.js"></script>
</head>

<body>
    <div id="datawrapper"><h1>Datenpunkte mit JSON Objekt</h1></div>

    <script type="text/javascript">

        var w = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        var h = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;

        var data = {
            "0": [{
                    "x": 1023.5468904710497,
                    "y": 327.945605742988
                },
                {
                    "x": 822.9324130020343,
                    "y": 148.6799580177309
                },
                {
                    "x": 442.7203155144098,
                    "y": 312.8657882038994
                },
                {
                    "x": 660.0585468800723,
                    "y": 186.76222329492919
                },
                {
                    "x": 709.2565134411121,
                    "y": 140.12349892326768
                },
                {
                    "x": 1022.0180065149194,
                    "y": 178.26423237851188
                },
                {
                    "x": 1278.8355096845103,
                    "y": 180.75871951084028
                },
                {
                    "x": 281.6352951879599,
                    "y": 35.161322137585174
                },
                {
                    "x": 831.9871809138037,
                    "y": 372.2393653267639
                },
                {
                    "x": 776.5607849499147,
                    "y": 52.326245193060295
                },
                {
                    "x": 397.34356458100393,
                    "y": 322.77810716280476
                },
                {
                    "x": 125.27062508207018,
                    "y": 80.36140877984897
                },
                {
                    "x": 161.31791869558054,
                    "y": 174.53243242183945
                },
                {
                    "x": 1098.8979595879512,
                    "y": 406.4410994232239
                },
                {
                    "x": 340.16454585884196,
                    "y": 204.052706766159
                },
                {
                    "x": 926.8524410101476,
                    "y": 7.6636752586545525
                },
                {
                    "x": 155.1313574254923,
                    "y": 66.46951787404421
                },
                {
                    "x": 201.58419111355477,
                    "y": 398.2748903778253
                },
                {
                    "x": 113.3713151294457,
                    "y": 115.45356135744485
                },
                {
                    "x": 1349.254017283084,
                    "y": 237.53915085054345
                },
                {
                    "x": 1319.8756605842402,
                    "y": 382.61579673004945
                },
                {
                    "x": 374.85914863801605,
                    "y": 398.950563892787
                },
                {
                    "x": 540.4790733872966,
                    "y": 263.9898312908819
                },
                {
                    "x": 48.67883184135822,
                    "y": 150.03672962878196
                },
                {
                    "x": 984.7643484783865,
                    "y": 3.8588830716726856
                },
                {
                    "x": 742.9675937265919,
                    "y": 386.6161972458641
                },
                {
                    "x": 395.8103102505144,
                    "y": 98.51638388879203
                },
                {
                    "x": 920.7238204879694,
                    "y": 109.04582892502447
                },
                {
                    "x": 707.5135937480197,
                    "y": 74.46711027621777
                },
                {
                    "x": 576.1798118386829,
                    "y": 159.1305005585272
                },
                {
                    "x": 1079.3134631821076,
                    "y": 253.8964567565093
                },
                {
                    "x": 415.62002935929866,
                    "y": 108.71724327448723
                },
                {
                    "x": 964.5233151494249,
                    "y": 348.24251292805883
                },
                {
                    "x": 772.166545726066,
                    "y": 237.87151125285092
                },
                {
                    "x": 235.0914828521581,
                    "y": 140.23338663548344
                },
                {
                    "x": 298.20387731315253,
                    "y": 413.61531093504226
                }],

            "1": [{
                    "x": 969.6198383795347,
                    "y": 369.9486323541984
                },
                {
                    "x": 960.09715576116,
                    "y": 92.29883179945797
                },
                {
                    "x": 49.57819102519118,
                    "y": 113.22472432809207
                },
                {
                    "x": 574.3951874515548,
                    "y": 265.60953830871415
                },
                {
                    "x": 1130.057737525129,
                    "y": 93.10950628565718
                },
                {
                    "x": 1338.3113928877613,
                    "y": 142.17526257244592
                },
                {
                    "x": 495.04194439527106,
                    "y": 256.6211039664326
                },
                {
                    "x": 1338.4208179756047,
                    "y": 337.56013933384816
                },
                {
                    "x": 727.2719500299759,
                    "y": 336.0783744396673
                },
                {
                    "x": 7.623739660725031,
                    "y": 372.68034632826357
                },
                {
                    "x": 30.95510563170861,
                    "y": 71.34366719377553
                },
                {
                    "x": 310.3313303908192,
                    "y": 54.63663236450182
                },
                {
                    "x": 1076.7868346145624,
                    "y": 404.4096729017495
                },
                {
                    "x": 775.5555038285021,
                    "y": 75.7740911072513
                },
                {
                    "x": 1146.6278947173096,
                    "y": 169.7786453614996
                },
                {
                    "x": 671.0286354333338,
                    "y": 321.2071695703325
                },
                {
                    "x": 1006.6067293888508,
                    "y": 341.2070912494762
                },
                {
                    "x": 1155.7553388085212,
                    "y": 105.2812167191389
                },
                {
                    "x": 854.5820465485166,
                    "y": 342.4557047142028
                },
                {
                    "x": 1139.1761976092391,
                    "y": 206.04582334441795
                },
                {
                    "x": 280.65116011722574,
                    "y": 369.97863859462035
                },
                {
                    "x": 121.53557496702022,
                    "y": 77.86863051530625
                },
                {
                    "x": 1012.6595354208806,
                    "y": 321.80118072819215
                },
                {
                    "x": 1284.5028668886514,
                    "y": 216.23446326387884
                },
                {
                    "x": 176.07720642322667,
                    "y": 263.4652274601666
                },
                {
                    "x": 470.9323584856147,
                    "y": 167.67089527615718
                },
                {
                    "x": 477.7358895709282,
                    "y": 117.23506156583456
                },
                {
                    "x": 1065.7009106951614,
                    "y": 211.14535855087507
                },
                {
                    "x": 795.6303609560774,
                    "y": 393.07182641425845
                },
                {
                    "x": 899.2479073215374,
                    "y": 55.23958523225717
                },
                {
                    "x": 788.3057829793345,
                    "y": 368.7437198135423
                },
                {
                    "x": 372.6723862433703,
                    "y": 73.22032331040961
                },
                {
                    "x": 338.9184131440247,
                    "y": 203.2041475892972
                },
                {
                    "x": 951.0939014520055,
                    "y": 178.863233237445
                },
                {
                    "x": 164.80235591278978,
                    "y": 290.16863583946787
                },
                {
                    "x": 967.102219433702,
                    "y": 74.09954263875818
                },
                {
                    "x": 63.99570119175636,
                    "y": 108.71915239292066
                },
                {
                    "x": 640.875369622646,
                    "y": 302.1962092666165
                },
                {
                    "x": 17.583687346297026,
                    "y": 295.33475907756457
                },
                {
                    "x": 463.1189490461121,
                    "y": 283.2624364883102
                },
                {
                    "x": 14.316011321370436,
                    "y": 353.7155851595433
                },
                {
                    "x": 1317.634458337774,
                    "y": 143.52980392340876
                },
                {
                    "x": 1258.0685478215246,
                    "y": 241.7127626554388
                },
                {
                    "x": 796.5196622076766,
                    "y": 131.5221939065016
                },
                {
                    "x": 1068.46379433139,
                    "y": 151.94716478103408
                },
                {
                    "x": 430.41378529411355,
                    "y": 402.8926386173597
                },
                {
                    "x": 226.44606748767757,
                    "y": 21.43498590408955
                },
                {
                    "x": 1129.8430737812398,
                    "y": 198.34397076793147
                },
                {
                    "x": 64.07047742150674,
                    "y": 413.283245825749
                },
                {
                    "x": 1350.4819552422773,
                    "y": 40.102599265975506
                },
                {
                    "x": 1086.2936611554421,
                    "y": 401.1868864012087
                },
                {
                    "x": 328.9520434808144,
                    "y": 362.1421000401134
                },
                {
                    "x": 829.1478639252852,
                    "y": 384.8976467536393
                },
                {
                    "x": 171.55337948794414,
                    "y": 168.65749238790835
                },
                {
                    "x": 169.17616318487836,
                    "y": 71.59764597431469
                },
                {
                    "x": 1288.176985194888,
                    "y": 215.41461245509285
                },
                {
                    "x": 50.160900893688655,
                    "y": 273.81472866707065
                },
                {
                    "x": 8.9680132141615,
                    "y": 189.0021177216245
                },
                {
                    "x": 752.4135763316698,
                    "y": 368.7014073681513
                },
                {
                    "x": 420.71847147971306,
                    "y": 66.85586536817215
                },
                {
                    "x": 474.0360448109953,
                    "y": 267.86277276059036
                },
                {
                    "x": 630.3794948237638,
                    "y": 162.50304625530862
                },
                {
                    "x": 1046.0152192657633,
                    "y": 181.30475959573002
                },
                {
                    "x": 887.8210857305068,
                    "y": 35.70017250430732
                },
                {
                    "x": 762.620723943803,
                    "y": 161.19507757973105
                },
                {
                    "x": 1270.9273498006542,
                    "y": 9.392826734349233
                },
                {
                    "x": 630.1620362683544,
                    "y": 302.2219967962937
                },
                {
                    "x": 302.09764190528284,
                    "y": 182.64044379177628
                },
                {
                    "x": 144.8174936272647,
                    "y": 112.06556496865461
                },
                {
                    "x": 900.9205465449811,
                    "y": 248.14948848880647
                },
                {
                    "x": 47.580311409168665,
                    "y": 283.2356909106691
                },
                {
                    "x": 1017.8796211703586,
                    "y": 109.57425455978543
                },
                {
                    "x": 823.7032539324524,
                    "y": 31.27471282737069
                },
                {
                    "x": 746.271810656535,
                    "y": 135.01796458748186
                },
                {
                    "x": 985.9995512095701,
                    "y": 229.0872906391553
                },
                {
                    "x": 534.6388148068149,
                    "y": 62.89155658536927
                },
                {
                    "x": 887.5071838466997,
                    "y": 178.20210141150704
                },
                {
                    "x": 443.1085533299115,
                    "y": 269.71266093557364
                },
                {
                    "x": 457.52180406896525,
                    "y": 333.1176881971667
                },
                {
                    "x": 834.546935459653,
                    "y": 140.80638782614264
                },
                {
                    "x": 363.3624655420048,
                    "y": 212.8626473428692
                },
                {
                    "x": 1160.5672724883693,
                    "y": 21.16724531214733
                },
                {
                    "x": 1246.5283947488647,
                    "y": 38.10497173284502
                },
                {
                    "x": 383.6140988908746,
                    "y": 313.62071896455495
                },
                {
                    "x": 607.2233355077794,
                    "y": 301.42772028168656
                },
                {
                    "x": 1342.4463516138192,
                    "y": 169.81919554620325
                },
                {
                    "x": 58.638968921852666,
                    "y": 164.1866588882485
                },
                {
                    "x": 1205.39245755415,
                    "y": 131.4874671025632
                },
                {
                    "x": 756.5582431776573,
                    "y": 237.69577710922974
                },
                {
                    "x": 56.83361764025445,
                    "y": 377.3561597821128
                },
                {
                    "x": 510.8010749040236,
                    "y": 145.18251125828598
                },
                {
                    "x": 755.4638462566782,
                    "y": 282.4545352735606
                },
                {
                    "x": 1028.3381845609804,
                    "y": 33.43590276965376
                },
                {
                    "x": 45.01913097111433,
                    "y": 92.67684031679305
                },
                {
                    "x": 1018.7514575332702,
                    "y": 173.07103898381763
                },
                {
                    "x": 713.5610569855315,
                    "y": 16.75778855919036
                },
                {
                    "x": 878.905058499224,
                    "y": 67.94482787135124
                },
                {
                    "x": 1011.7950921477831,
                    "y": 378.17317919559343
                },
                {
                    "x": 124.6838268560848,
                    "y": 151.8472820968175
                },
                {
                    "x": 366.0669844746786,
                    "y": 174.02326972872677
                },
                {
                    "x": 238.37431884005045,
                    "y": 227.88785379072658
                },
                {
                    "x": 728.211414171554,
                    "y": 262.0145746325351
                },
                {
                    "x": 1021.3087358585011,
                    "y": 171.68262100464108
                },
                {
                    "x": 795.8002376650079,
                    "y": 30.818154868870778
                },
                {
                    "x": 409.3556829740693,
                    "y": 287.2156555714794
                },
                {
                    "x": 784.6058752783373,
                    "y": 3.4827664629874198
                },
                {
                    "x": 377.5052730511893,
                    "y": 360.943552047674
                },
                {
                    "x": 880.6965042766243,
                    "y": 166.5493985914525
                },
                {
                    "x": 1072.9256887623703,
                    "y": 216.80514153514306
                },
                {
                    "x": 955.5941970935967,
                    "y": 385.42003170643494
                },
                {
                    "x": 945.5016919019394,
                    "y": 144.9656825893573
                },
                {
                    "x": 873.8708509487261,
                    "y": 44.86525978565452
                },
                {
                    "x": 173.81265269510214,
                    "y": 184.45899019683816
                },
                {
                    "x": 766.802952890882,
                    "y": 377.53919799350524
                },
                {
                    "x": 879.0931209249562,
                    "y": 379.838017915183
                },
                {
                    "x": 457.3773071752124,
                    "y": 293.9212273545366
                },
                {
                    "x": 308.9069146831319,
                    "y": 219.44273592931268
                },
                {
                    "x": 1006.6716246514867,
                    "y": 175.7291038859159
                },
                {
                    "x": 718.9384357097881,
                    "y": 48.36157219406978
                },
                {
                    "x": 581.990565041791,
                    "y": 181.06671350279024
                },
                {
                    "x": 1229.6860803922114,
                    "y": 171.00923918628706
                },
                {
                    "x": 1214.614878384924,
                    "y": 40.604455366826414
                },
                {
                    "x": 812.908778522986,
                    "y": 159.9229258416939
                },
                {
                    "x": 321.31168830888396,
                    "y": 148.59673530194718
                },
                {
                    "x": 13.092360656549241,
                    "y": 292.17732078284274
                },
                {
                    "x": 404.45729694394004,
                    "y": 221.85501868498423
                },
                {
                    "x": 321.2804381662653,
                    "y": 156.587468465258
                },
                {
                    "x": 80.03642553556523,
                    "y": 343.13082883502966
                },
                {
                    "x": 644.7870215593204,
                    "y": 336.5114365069534
                },
                {
                    "x": 809.0558978072181,
                    "y": 119.9680410307514
                },
                {
                    "x": 1074.1491176919574,
                    "y": 174.7428064201596
                },
                {
                    "x": 816.1587044745996,
                    "y": 85.98293679547436
                },
                {
                    "x": 343.06698624506777,
                    "y": 181.89953111284214
                },
                {
                    "x": 1149.0738421625088,
                    "y": 185.14860339653043
                },
                {
                    "x": 355.3066370337381,
                    "y": 205.3596938370043
                },
                {
                    "x": 366.5327688823814,
                    "y": 35.373572686778914
                },
                {
                    "x": 406.6363735179253,
                    "y": 233.6404592202895
                },
                {
                    "x": 525.6048541145651,
                    "y": 297.308745365153
                },
                {
                    "x": 785.0302829310954,
                    "y": 183.56711854136995
                },
                {
                    "x": 522.8451347984231,
                    "y": 253.85379318535885
                },
                {
                    "x": 214.57801334616198,
                    "y": 351.4486025360146
                },
                {
                    "x": 1008.2756118915362,
                    "y": 69.15587162928348
                },
                {
                    "x": 117.48255247285528,
                    "y": 75.05184371157256
                },
                {
                    "x": 235.57367771152326,
                    "y": 318.1820484291628
                },
                {
                    "x": 411.0222484809499,
                    "y": 314.65474589695566
                },
                {
                    "x": 752.4938710029046,
                    "y": 1.3991476941012753
                },
                {
                    "x": 867.0878020415115,
                    "y": 113.62051886383765
                },
                {
                    "x": 1290.486178337917,
                    "y": 192.302405303299
                },
                {
                    "x": 291.3458043686649,
                    "y": 343.8335536480116
                },
                {
                    "x": 544.3372399580003,
                    "y": 295.2322808061099
                },
                {
                    "x": 55.455582844818586,
                    "y": 127.85331861065578
                },
                {
                    "x": 1098.1169126697928,
                    "y": 339.95920821601425
                },
                {
                    "x": 580.2416372175963,
                    "y": 126.91271983757534
                },
                {
                    "x": 1079.2917292203572,
                    "y": 76.09656847662387
                },
                {
                    "x": 796.5893441211822,
                    "y": 99.86706348735379
                },
                {
                    "x": 1144.3617527087333,
                    "y": 243.49457272913546
                },
                {
                    "x": 985.2824816842958,
                    "y": 311.8501840799815
                },
                {
                    "x": 309.1626784110231,
                    "y": 116.54312613224768
                }
            ]};


        var color = d3.scaleOrdinal(d3.schemeCategory20);

        var width = w,
            height = h;

        // A way to look more easily across all 'inner' arrays
        var myData = d3.values(data);

        var x = d3.scaleLinear()
            .domain([0,
              // max over all series'
              d3.max( myData, function(d) {
                // within a series, look at the X-value
                return d3.max( d, function(v) { return v.x } )
            } ) ])
            .range([0, width]);

        var y = d3.scaleLinear()
            .domain([0, d3.max( myData, function(d) {
                return d3.max( d, function(v) { return v.y } ) } )])
            .range([height, 0]);


        // Mit D3 Bildpunkt als SG rendern
        var d3svg = d3.select("#datawrapper").append("svg")
                .attr("width", width)
                .attr("height", height)
                .attr("id","dots")
                .attr("xmlns", "http://www.w3.org/2000/svg")
                .append("g");




        var series = d3svg.selectAll( "g" )
            // convert the object to an array of d3 entries
            .data( d3.map( myData ).entries() )
            .enter()
            // create a container for each series
            .append("g")
            .attr( "id", function(d) { return "series-" + d.key } );



        series.selectAll( "circle" )
           // do a data join for each series' values
            .data( function(d) { return d.value } )
            .enter()
            .append("circle")
            .attr( "cx", function(d) { return x(d.x) } )
            .attr( "r", "3" )
            .attr( "cy", function(d) { return y(d.y) } )

            .style("fill", function(d,i){return color(i);})
            .style("opacity", 0)
            .transition()
            .duration(1600)
            .style("opacity", 1);



    </script>
</body>
</html>
